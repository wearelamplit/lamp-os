We need a new form generation component (/src/components/Form.vue) that will dynamically render a form (list of fiels) based on a fields structure and modelValue. What is currently there is from another, non typescript, project. The form accepts a fields prop, combines it with the modelValue, and renders the fields. The form needs to be able to handle the fields structure and modelValue, and render the fields accordingly.

--------------------------------

Fields Structure

Here is an example of the fields structure:

example-fields.json

it's an array of fields, the top level info is for the form and/or field container (src/components/FormField.vue) and the info inside the props: {} is specific to the field, like validation rules or other options. The field needs to self validate and communicate to the form if the value is valid or not before submitting. Once submitted, the form should produce an object of all the values.

Here are the top level properties that can be seen:

- name
- type (string -- required, could be a component the form supports (slot) or a field name
- label (string -- required)
- help (string -- default empty string)
- default (any -- should be retuired on a field definition, if it's not specified and the form has a value from the modelValue it can still be shown)
- props (object -- default empty object, validation rules and other field props)
- transform (array of strings -- default empty array)
- optional (boolean -- default false)
- show (function -- default undefined, future feature that will accept the current form values and return true/false if the field should be shown)

--------------------------------

Filtering fields

We need a computed property that will filter fields for various reasons.
- no value could be determined (no default and/or null/undefined)
- dependancy not met (future show method on the field that accepts the current values and will return true/false)
- more thigns in the future

We need to make sure that this gets respected for both:

1) rendering of fields and
2) the packaged object that gets returned on submit.

--------------------------------

Transform

There is another complexity the form has to handle.

--------------------------------

Field Components

For the form to work dynamically we need to use the <component> tag and use is="field-type" to render the field. As far as I know this requires the field to be a global component (if I am wrong please correct me). There are these types of fields:

- Boolean
- Text
- Number
- NumberSlider
- Hidden
- Color
- ColorList
- NumberRangeSlider

Most of these fields (src/components/fields) were copied from the src/components folder, feel free to adapt them to work in the new form system.

--------------------------------

Field Wrapper

The src/components/fields/Field.vue (copied from src/components/FormField.vue) needs to be used and the field put inside for all fields. This might need some adaptation to make it work and use the props like label/help/etc - -for instance use help not helpText.

This also needs to be capable of showing the error as reported by the field to the form, avoiding the form from being submitted.

--------------------------------

NumberRangeSlider

This field is the one that isn't included. We need a new version of src/components/fields/NumberSlider.vue but supporting 2 points. Min and Max represent the range of the slider, but these points represent the first and last number of the array.

--------------------------------

Field prepend and append

For the fields that display a value, like the number slider, we need to support prepend and append. This is for the fields that display a value, like the number slider, to prepend and append a value to the display. For instance, if the field is a number slider, the display might be "100ms" or "100s" depending on the append.

--------------------------------

Slots

The form needs to be aware of additional types other than fields. For instance "Slot" needs to be a type, and the name is the slot name of the content passed into the form. If the slot is empty, it should not be shown. There could be additional types in the future, so when iterating through the fields deal with the non field types first.

--------------------------------

New Form page

Create a new page on /form witha an example field structure for every field, make all the fields optional. And then on submit show the submitted values below the form.

--------------------------------
so:

- add/modify the new form component with features mentioned above
- make a new way to regiser global plugins
- add all the fields (src/components/fields) as global components
- add the number range slider field
- check over the /fields, form and field wrapper to make sure they are built well and typescripted
- Make sure the integrations work and are not outdated.
- don't delete old components, there will be code duplication for a bit until everything is on this form generation
- Add /form page

---

I forgot to add the details for Transform so I will add it here.

some values result in an array, but because of how we handle data it needs to be split into multiple values.

For instance on example-fields.json for the interval field, we have a transform: ['Min', 'Max']. This means the form needs to transform the input and output of the in preparation for the field to work. because the transform is 2 items, it needs to combine the form values initially from { intervalMin: 5, intervalMax: 15 } to { interval: [5, 15] } and then back to { intervalMin: 5, intervalMax: 15 } when the form is submitted.